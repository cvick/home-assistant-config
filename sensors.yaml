# Weather
  - platform: darksky
    api_key: !secret darksky_api_key
    monitored_conditions:
      - temperature_high
      - temperature
      - precip_probability
      - summary
    scan_interval: 600

# Sensor Templates

  - platform: template
    sensors:
      indoor_temperature_downstairs:
        friendly_name: "Downstairs Temperature"
        unit_of_measurement: "Â°F"
        entity_id: climate.downstairs
        value_template: "{{ state_attr('climate.downstairs', 'current_temperature')}}"

      indoor_temperature_upstairs:
        friendly_name: "Upstairs Temperature"
        unit_of_measurement: "Â°F"
        entity_id: climate.upstairs
        value_template: "{{ state_attr('climate.upstairs', 'current_temperature')}}"

  - platform: template
    sensors:
      garage_status:
        friendly_name: 'Garage Door Status'
        value_template: '{% if states.cover.garage %}
          {% if states.cover.garage.attributes["door_state"] == "open" %}
            Open
          {% elif states.cover.garage.attributes["door_state"] == "closed" %}
            Closed
          {% elif states.cover.garage.attributes["door_state"] == "opening" %}
            Opening
          {% elif states.cover.garage.attributes["door_state"] == "closing" %}
            Closing
          {% else %}
            Unknown
          {% endif %}
          {% else %}
          n/a
          {% endif %}'
      garage_car_present:
        friendly_name: 'Car in Garage'
        value_template: '{% if states.cover.garage %}
          {% if states.cover.garage.state == "open" %}
            n/a
          {% elif ((states.cover.garage.attributes["distance_sensor"] > 50) and (states.cover.garage.attributes["distance_sensor"] < 150)) %}
            Yes
          {% else %}
            No
          {% endif %}
          {% else %}
          n/a
          {% endif %}'

  - platform: rtorrent
    url: !secret rtorrent_url
    monitored_variables:
#      - 'current_status'
      - 'download_speed'
      - 'upload_speed'